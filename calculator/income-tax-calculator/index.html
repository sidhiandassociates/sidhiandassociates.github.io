<!DOCTYPE html>
<html lang="en-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="icon" href="/sidhi.png" type="image/png" />
    
    <!-- Primary Meta Tags -->
    <title>Income Tax Calculator 2024-25 - Old vs New Regime Comparison | Free Tool</title>
    <meta name="title" content="Income Tax Calculator 2024-25 - Old vs New Regime Comparison">
    <meta name="description" content="Free Income Tax Calculator for FY 2024-25. Compare old vs new tax regime. Calculate tax liability, deductions, take-home salary. By Sidhi & Associates CAs.">
    <meta name="keywords" content="income tax calculator, tax calculator 2024-25, old vs new tax regime, income tax calculation, tax saver calculator, take home salary calculator">
    <meta name="robots" content="index, follow, max-image-preview:large">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://sidhiandassociates.github.io/calculator/income-tax-calculator/">
    
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Income Tax Calculator 2024-25",
      "description": "Calculate income tax for FY 2024-25 with old vs new regime comparison",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      },
      "provider": {
        "@type": "Organization",
        "name": "Sidhi & Associates"
      }
    }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #0A2647;
            --primary-gold: #D4A43C;
            --light-gold: #F5E6C8;
            --text-dark: #1a1a1a;
            --text-light: #666;
            --white: #ffffff;
            --light-bg: #F9F7F4;
            --success-green: #28a745;
            --info-blue: #17a2b8;
            --warning-orange: #ff9800;
            --danger-red: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--light-bg);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: var(--white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }

        .logo-img {
            width: 60px;
            height: 60px;
        }

        .logo-text h1 {
            font-size: 1.8em;
            color: var(--primary-blue);
            font-weight: 700;
            margin: 0;
        }

        .logo-text p {
            font-size: 0.9em;
            color: var(--primary-gold);
            margin: 0;
        }

        .header-cta {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .cta-phone {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
        }

        .breadcrumb {
            background: var(--light-gold);
            padding: 15px 0;
        }

        .breadcrumb a {
            color: var(--primary-blue);
            text-decoration: none;
            margin: 0 5px;
        }

        .hero {
            background: linear-gradient(135deg, var(--info-blue) 0%, #138496 100%);
            color: var(--white);
            padding: 60px 20px;
            text-align: center;
        }

        .hero h2 {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .calculator-container {
            max-width: 1400px;
            margin: -40px auto 60px;
            padding: 0 20px;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .calculator-card {
            background: var(--white);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
        }

        .calculator-card h3 {
            color: var(--primary-blue);
            font-size: 1.8em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary-gold);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.05em;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-gold);
        }

        .regime-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .regime-option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .regime-option:hover {
            border-color: var(--primary-gold);
        }

        .regime-option.active {
            border-color: var(--primary-gold);
            background: var(--light-gold);
        }

        .regime-option input[type="radio"] {
            display: none;
        }

        .regime-label {
            font-weight: 700;
            color: var(--primary-blue);
            display: block;
            margin-bottom: 5px;
        }

        .regime-desc {
            font-size: 0.9em;
            color: var(--text-light);
        }

        .collapsible-section {
            margin-bottom: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }

        .collapsible-header {
            padding: 15px 20px;
            background: var(--light-bg);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--primary-blue);
        }

        .collapsible-header:hover {
            background: var(--light-gold);
        }

        .collapsible-content {
            padding: 20px;
            display: none;
        }

        .collapsible-content.active {
            display: block;
        }

        .btn-calculate {
            width: 100%;
            padding: 15px;
            background: var(--info-blue);
            color: var(--white);
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn-calculate:hover {
            background: #138496;
            transform: translateY(-2px);
        }

        .btn-reset {
            width: 100%;
            padding: 12px;
            background: transparent;
            color: var(--text-light);
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }

        .result-section {
            position: sticky;
            top: 100px;
        }

        .comparison-tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 25px;
        }

        .tab-button {
            padding: 12px;
            border: 2px solid #e0e0e0;
            background: var(--white);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab-button.active {
            border-color: var(--primary-gold);
            background: var(--light-gold);
            color: var(--primary-blue);
        }

        .result-main {
            background: linear-gradient(135deg, var(--success-green), #1e7e34);
            color: var(--white);
            padding: 35px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 25px;
        }

        .result-label {
            font-size: 1.1em;
            margin-bottom: 10px;
            opacity: 0.95;
        }

        .result-value {
            font-size: 3.5em;
            font-weight: 700;
            margin: 15px 0;
        }

        .result-subtitle {
            font-size: 1em;
            opacity: 0.9;
        }

        .breakdown-card {
            background: var(--light-bg);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .breakdown-card h4 {
            color: var(--primary-blue);
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .breakdown-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .breakdown-row:last-child {
            border-bottom: none;
        }

        .breakdown-row.highlight {
            font-weight: 700;
            color: var(--primary-blue);
            font-size: 1.1em;
            background: var(--white);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .comparison-card {
            background: var(--white);
            padding: 25px;
            border-radius: 8px;
            border: 2px solid var(--light-gold);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .regime-result {
            text-align: center;
            padding: 20px;
            border-radius: 8px;
        }

        .regime-result.better {
            background: #d4edda;
            border: 2px solid var(--success-green);
        }

        .regime-result.worse {
            background: #f8d7da;
            border: 2px solid #dc3545;
        }

        .regime-name {
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 10px;
        }

        .regime-tax {
            font-size: 2em;
            font-weight: 700;
            margin: 10px 0;
        }

        .savings-badge {
            display: inline-block;
            padding: 8px 15px;
            background: var(--success-green);
            color: var(--white);
            border-radius: 20px;
            font-weight: 600;
            margin-top: 10px;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid var(--info-blue);
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .alert-box {
            background: #fff3cd;
            border-left: 4px solid var(--warning-orange);
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
            color: #856404;
        }

        .cta-box {
            background: linear-gradient(135deg, var(--primary-gold), #C4932C);
            color: var(--white);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-top: 25px;
        }

        .cta-box h4 {
            color: var(--white);
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .cta-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: var(--white);
            padding: 12px 25px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s;
            display: inline-block;
        }

        .btn-primary:hover {
            background: var(--white);
            color: var(--primary-blue);
            transform: translateY(-2px);
        }

        .floating-buttons {
            position: fixed;
            right: 20px;
            bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 999;
        }

        .float-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }

        .float-btn:hover {
            transform: scale(1.1);
        }

        .whatsapp-btn {
            background: #25D366;
        }

        .call-btn {
            background: var(--primary-gold);
        }

        .float-btn svg {
            width: 30px;
            height: 30px;
            fill: white;
        }

        @media (max-width: 968px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }

            .result-section {
                position: static;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .hero h2 {
                font-size: 2em;
            }

            .calculator-card {
                padding: 25px;
            }

            .result-value {
                font-size: 2.5em;
            }

            .header-cta {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="/" class="logo">
                    <img src="/sidhi.png" alt="Sidhi & Associates" class="logo-img" width="60" height="60">
                    <div class="logo-text">
                        <h1>Sidhi & Associates</h1>
                        <p>Chartered Accountants</p>
                    </div>
                </a>
                <div class="header-cta">
                    <a href="tel:+917889257045" class="cta-phone">ðŸ“ž +91 78892 57045</a>
                </div>
            </div>
        </div>
    </header>

    <div class="breadcrumb">
        <div class="container">
            <a href="/">Home</a> / <a href="/calculator/">Calculators</a> / <span>Income Tax Calculator</span>
        </div>
    </div>

    <section class="hero">
        <div class="container">
            <h2>ðŸ’° Income Tax Calculator 2024-25</h2>
            <p>Calculate Tax Liability & Compare Old vs New Regime</p>
            <p style="font-size: 1em; opacity: 0.9; margin-top: 10px;">FY 2024-25 (AY 2025-26) â€¢ Latest Tax Rates â€¢ Expert CA Tool</p>
        </div>
    </section>

    <div class="calculator-container">
        <div class="calculator-grid">
            <!-- Input Section -->
            <div class="calculator-card">
                <h3>Enter Your Income Details</h3>
                
                <form id="taxForm">
                    <div class="form-group">
                        <label>Select Tax Regime</label>
                        <div class="regime-selector">
                            <label class="regime-option active">
                                <input type="radio" name="regime" value="new" checked>
                                <span class="regime-label">New Regime</span>
                                <span class="regime-desc">Default, No deductions</span>
                            </label>
                            <label class="regime-option">
                                <input type="radio" name="regime" value="old">
                                <span class="regime-label">Old Regime</span>
                                <span class="regime-desc">With deductions</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="basicSalary">Basic Salary (Annual)</label>
                        <input type="number" id="basicSalary" placeholder="600000" min="0" step="1000" value="600000">
                    </div>

                    <div class="form-group">
                        <label for="hra">HRA Received (Annual)</label>
                        <input type="number" id="hra" placeholder="120000" min="0" step="1000" value="120000">
                    </div>

                    <div class="form-group">
                        <label for="otherAllowances">Other Allowances (Annual)</label>
                        <input type="number" id="otherAllowances" placeholder="50000" min="0" step="1000" value="50000">
                    </div>

                    <div class="form-group">
                        <label for="otherIncome">Other Income (Interest, Rental, etc.)</label>
                        <input type="number" id="otherIncome" placeholder="0" min="0" step="1000" value="0">
                    </div>

                    <!-- Deductions Section -->
                    <div class="collapsible-section" id="deductionsSection">
                        <div class="collapsible-header" onclick="toggleSection('deductions')">
                            <span>ðŸ’° Deductions (Old Regime Only)</span>
                            <span id="deductionsArrow">â–¼</span>
                        </div>
                        <div class="collapsible-content" id="deductionsContent">
                            <div class="form-group">
                                <label for="section80C">Section 80C (EPF, PPF, LIC, ELSS)</label>
                                <input type="number" id="section80C" placeholder="Max 150000" min="0" max="150000" step="1000" value="150000">
                                <small style="color: var(--text-light);">Maximum: â‚¹1,50,000</small>
                            </div>

                            <div class="form-group">
                                <label for="section80D">Section 80D (Health Insurance)</label>
                                <input type="number" id="section80D" placeholder="Max 25000" min="0" max="100000" step="1000" value="25000">
                                <small style="color: var(--text-light);">Max: â‚¹25K (self), â‚¹50K (parents senior citizen)</small>
                            </div>

                            <div class="form-group">
                                <label for="hraExempt">HRA Exemption</label>
                                <input type="number" id="hraExempt" placeholder="0" min="0" step="1000" value="0">
                                <small style="color: var(--text-light);">Use HRA calculator for exact amount</small>
                            </div>

                            <div class="form-group">
                                <label for="section80CCD">Section 80CCD(1B) - NPS</label>
                                <input type="number" id="section80CCD" placeholder="Max 50000" min="0" max="50000" step="1000" value="50000">
                                <small style="color: var(--text-light);">Maximum: â‚¹50,000 (additional to 80C)</small>
                            </div>

                            <div class="form-group">
                                <label for="homeLoanInterest">Home Loan Interest</label>
                                <input type="number" id="homeLoanInterest" placeholder="Max 200000" min="0" max="200000" step="1000" value="0">
                                <small style="color: var(--text-light);">Section 24(b): Maximum â‚¹2,00,000</small>
                            </div>

                            <div class="form-group">
                                <label for="section80G">Section 80G (Donations)</label>
                                <input type="number" id="section80G" placeholder="0" min="0" step="1000" value="0">
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn-calculate" onclick="calculateTax()">ðŸ§® Calculate Tax</button>
                    <button type="button" class="btn-reset" onclick="resetForm()">ðŸ”„ Reset</button>
                </form>

                <div class="info-box" style="margin-top: 30px;">
                    <h4>ðŸ’¡ Quick Tips</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>New regime is default from FY 2023-24</li>
                        <li>Old regime allows deductions but higher rates</li>
                        <li>Standard deduction: â‚¹50K (salaried)</li>
                        <li>Rebate u/s 87A if income < â‚¹7L (new regime)</li>
                    </ul>
                </div>
            </div>

            <!-- Results Section -->
            <div class="result-section">
                <div class="calculator-card">
                    <h3>Your Tax Calculation</h3>
                    
                    <div class="comparison-tabs">
                        <button class="tab-button active" onclick="showTab('both')">Both Regimes</button>
                        <button class="tab-button" onclick="showTab('selected')">Selected Only</button>
                    </div>

                    <div id="resultsContainer">
                        <!-- Comparison View -->
                        <div id="comparisonView">
                            <div class="comparison-card">
                                <h4 style="text-align: center; color: var(--primary-blue); margin-bottom: 20px;">Regime Comparison</h4>
                                <div class="comparison-grid">
                                    <div class="regime-result" id="newRegimeCard">
                                        <div class="regime-name">New Regime</div>
                                        <div class="regime-tax" id="newRegimeTax">â‚¹0</div>
                                        <div style="font-size: 0.9em; color: var(--text-light);" id="newRegimeRate">Effective: 0%</div>
                                    </div>
                                    <div class="regime-result" id="oldRegimeCard">
                                        <div class="regime-name">Old Regime</div>
                                        <div class="regime-tax" id="oldRegimeTax">â‚¹0</div>
                                        <div style="font-size: 0.9em; color: var(--text-light);" id="oldRegimeRate">Effective: 0%</div>
                                    </div>
                                </div>
                                <div id="savingsMessage" style="text-align: center; margin-top: 20px;"></div>
                            </div>
                        </div>

                        <!-- Selected View -->
                        <div id="selectedView" style="display: none;">
                            <div class="result-main">
                                <div class="result-label">Total Tax Payable</div>
                                <div class="result-value" id="selectedTax">â‚¹0</div>
                                <div class="result-subtitle" id="selectedRegime">New Regime</div>
                            </div>

                            <div class="breakdown-card">
                                <h4>Income Breakdown</h4>
                                <div class="breakdown-row">
                                    <span>Gross Total Income</span>
                                    <span id="grossIncome">â‚¹0</span>
                                </div>
                                <div class="breakdown-row">
                                    <span>(-) Deductions</span>
                                    <span id="totalDeductions">â‚¹0</span>
                                </div>
                                <div class="breakdown-row highlight">
                                    <span>Taxable Income</span>
                                    <span id="taxableIncome">â‚¹0</span>
                                </div>
                            </div>

                            <div class="breakdown-card">
                                <h4>Tax Calculation</h4>
                                <div class="breakdown-row">
                                    <span>Income Tax</span>
                                    <span id="incomeTax">â‚¹0</span>
                                </div>
                                <div class="breakdown-row">
                                    <span>(+) Health & Education Cess (4%)</span>
                                    <span id="cess">â‚¹0</span>
                                </div>
                                <div class="breakdown-row">
                                    <span>(-) Rebate u/s 87A</span>
                                    <span id="rebate">â‚¹0</span>
                                </div>
                                <div class="breakdown-row highlight">
                                    <span>Total Tax Payable</span>
                                    <span id="totalTax">â‚¹0</span>
                                </div>
                            </div>

                            <div class="breakdown-card">
                                <h4>Take Home Salary</h4>
                                <div class="breakdown-row">
                                    <span>Annual Gross Salary</span>
                                    <span id="annualGross">â‚¹0</span>
                                </div>
                                <div class="breakdown-row">
                                    <span>(-) Total Tax</span>
                                    <span id="taxDeduction">â‚¹0</span>
                                </div>
                                <div class="breakdown-row highlight" style="background: var(--success-green); color: white;">
                                    <span>Annual Take Home</span>
                                    <span id="takeHome">â‚¹0</span>
                                </div>
                                <div style="text-align: center; margin-top: 15px; padding: 15px; background: var(--white); border-radius: 8px;">
                                    <div style="color: var(--text-light); margin-bottom: 5px;">Monthly Take Home</div>
                                    <div style="font-size: 2em; font-weight: 700; color: var(--success-green);" id="monthlyTakeHome">â‚¹0</div>
                                </div>
                            </div>
                        </div>

                        <div id="recommendationBox"></div>
                    </div>

                    <!-- CTA Box for Lead Generation -->
                    <div class="cta-box">
                        <h4>ðŸ’¡ Need Expert Tax Planning?</h4>
                        <p style="margin-bottom: 0;">Save more tax with professional guidance</p>
                        <div class="cta-buttons">
                            <a href="tel:+917889257045" class="btn-primary">ðŸ“ž Call Now</a>
                            <a href="https://wa.me/917889257045?text=Hi%2C%20I%20used%20your%20tax%20calculator" class="btn-primary" style="background: #25D366;">ðŸ’¬ WhatsApp</a>
                        </div>
                        <p style="font-size: 0.9em; margin-top: 15px; opacity: 0.9;">ITR Filing from â‚¹2,500 | Free Consultation</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <a href="https://wa.me/917889257045?text=Hi%2C%20I%20used%20your%20tax%20calculator" 
           target="_blank" 
           class="float-btn whatsapp-btn" 
           aria-label="Chat on WhatsApp">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
        </a>
        <a href="tel:+917889257045" 
           class="float-btn call-btn" 
           aria-label="Call us">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"/>
            </svg>
        </a>
    </div>

    <script>
        // Initialize
        document.querySelectorAll('.regime-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.regime-option').forEach(o => o.classList.remove('active'));
                this.classList.add('active');
                this.querySelector('input[type="radio"]').checked = true;
                
                const isOldRegime = this.querySelector('input').value === 'old';
                document.getElementById('deductionsSection').style.opacity = isOldRegime ? '1' : '0.5';
            });
        });

        function toggleSection(section) {
            const content = document.getElementById(section + 'Content');
            const arrow = document.getElementById(section + 'Arrow');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                arrow.textContent = 'â–¼';
            } else {
                content.classList.add('active');
                arrow.textContent = 'â–²';
            }
        }

        function showTab(view) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (view === 'both') {
                document.getElementById('comparisonView').style.display = 'block';
                document.getElementById('selectedView').style.display = 'none';
            } else {
                document.getElementById('comparisonView').style.display = 'none';
                document.getElementById('selectedView').style.display = 'block';
            }
        }

        function calculateTax() {
            const basic = parseFloat(document.getElementById('basicSalary').value) || 0;
            const hra = parseFloat(document.getElementById('hra').value) || 0;
            const allowances = parseFloat(document.getElementById('otherAllowances').value) || 0;
            const otherIncome = parseFloat(document.getElementById('otherIncome').value) || 0;
            
            const grossIncome = basic + hra + allowances + otherIncome;
            
            // Deductions
            const section80C = parseFloat(document.getElementById('section80C').value) || 0;
            const section80D = parseFloat(document.getElementById('section80D').value) || 0;
            const hraExempt = parseFloat(document.getElementById('hraExempt').value) || 0;
            const section80CCD = parseFloat(document.getElementById('section80CCD').value) || 0;
            const homeLoanInt = parseFloat(document.getElementById('homeLoanInterest').value) || 0;
            const section80G = parseFloat(document.getElementById('section80G').value) || 0;
            
            // Standard deduction
            const standardDeduction = 50000;
            
            // Calculate New Regime Tax
            const newTaxableIncome = Math.max(0, grossIncome - standardDeduction);
            const newRegimeTax = calculateNewRegimeTax(newTaxableIncome);
            
            // Calculate Old Regime Tax
            const totalOldDeductions = standardDeduction + Math.min(section80C, 150000) + section80D + 
                                      hraExempt + Math.min(section80CCD, 50000) + 
                                      Math.min(homeLoanInt, 200000) + section80G;
            const oldTaxableIncome = Math.max(0, grossIncome - totalOldDeductions);
            const oldRegimeTax = calculateOldRegimeTax(oldTaxableIncome);
            
            // Display results
            displayResults(grossIncome, newTaxableIncome, oldTaxableIncome, newRegimeTax, oldRegimeTax, totalOldDeductions, standardDeduction);
        }

        function calculateNewRegimeTax(income) {
            let tax = 0;
            if (income <= 300000) tax = 0;
            else if (income <= 700000) tax = (income - 300000) * 0.05;
            else if (income <= 1000000) tax = 20000 + (income - 700000) * 0.10;
            else if (income <= 1200000) tax = 50000 + (income - 1000000) * 0.15;
            else if (income <= 1500000) tax = 80000 + (income - 1200000) * 0.20;
            else tax = 140000 + (income - 1500000) * 0.30;
            
            // Add cess
            tax = tax * 1.04;
            
            // Rebate u/s 87A
            if (income <= 700000) tax = 0;
            
            return Math.round(tax);
        }

        function calculateOldRegimeTax(income) {
            let tax = 0;
            if (income <= 250000) tax = 0;
            else if (income <= 500000) tax = (income - 250000) * 0.05;
            else if (income <= 1000000) tax = 12500 + (income - 500000) * 0.20;
            else tax = 112500 + (income - 1000000) * 0.30;
            
            // Add cess
            tax = tax * 1.04;
            
            // Rebate u/s 87A for old regime
            if (income <= 500000) {
                tax = Math.max(0, tax - 12500);
            }
            
            return Math.round(tax);
        }

        function displayResults(grossIncome, newTaxableIncome, oldTaxableIncome, newRegimeTax, oldRegimeTax, totalOldDeductions, standardDeduction) {
            const selectedRegime = document.querySelector('input[name="regime"]:checked').value;
            
            // Comparison View
            document.getElementById('newRegimeTax').textContent = 'â‚¹' + formatNumber(newRegimeTax);
            document.getElementById('oldRegimeTax').textContent = 'â‚¹' + formatNumber(oldRegimeTax);
            
            const newEffective = grossIncome > 0 ? ((newRegimeTax / grossIncome) * 100).toFixed(2) : 0;
            const oldEffective = grossIncome > 0 ? ((oldRegimeTax / grossIncome) * 100).toFixed(2) : 0;
            
            document.getElementById('newRegimeRate').textContent = 'Effective: ' + newEffective + '%';
            document.getElementById('oldRegimeRate').textContent = 'Effective: ' + oldEffective + '%';
            
            // Highlight better regime
            const newCard = document.getElementById('newRegimeCard');
            const oldCard = document.getElementById('oldRegimeCard');
            
            if (newRegimeTax < oldRegimeTax) {
                newCard.classList.add('better');
                newCard.classList.remove('worse');
                oldCard.classList.add('worse');
                oldCard.classList.remove('better');
                
                const savings = oldRegimeTax - newRegimeTax;
                document.getElementById('savingsMessage').innerHTML = 
                    '<div class="savings-badge">âœ… New Regime saves â‚¹' + formatNumber(savings) + '</div>' +
                    '<p style="margin-top: 10px; color: var(--text-light);">Recommended: Choose New Regime</p>';
            } else if (oldRegimeTax < newRegimeTax) {
                oldCard.classList.add('better');
                oldCard.classList.remove('worse');
                newCard.classList.add('worse');
                newCard.classList.remove('better');
                
                const savings = newRegimeTax - oldRegimeTax;
                document.getElementById('savingsMessage').innerHTML = 
                    '<div class="savings-badge">âœ… Old Regime saves â‚¹' + formatNumber(savings) + '</div>' +
                    '<p style="margin-top: 10px; color: var(--text-light);">Recommended: Choose Old Regime</p>';
            } else {
                newCard.classList.remove('better', 'worse');
                oldCard.classList.remove('better', 'worse');
                document.getElementById('savingsMessage').innerHTML = 
                    '<p style="color: var(--text-light);">Both regimes result in same tax</p>';
            }
            
            // Selected View
            const selectedTax = selectedRegime === 'new' ? newRegimeTax : oldRegimeTax;
            const selectedTaxableIncome = selectedRegime === 'new' ? newTaxableIncome : oldTaxableIncome;
            const selectedDeductions = selectedRegime === 'new' ? standardDeduction : totalOldDeductions;
            
            document.getElementById('selectedTax').textContent = 'â‚¹' + formatNumber(selectedTax);
            document.getElementById('selectedRegime').textContent = selectedRegime === 'new' ? 'New Regime' : 'Old Regime';
            
            // Income breakdown
            document.getElementById('grossIncome').textContent = 'â‚¹' + formatNumber(grossIncome);
            document.getElementById('totalDeductions').textContent = 'â‚¹' + formatNumber(selectedDeductions);
            document.getElementById('taxableIncome').textContent = 'â‚¹' + formatNumber(selectedTaxableIncome);
            
            // Tax calculation
            const taxBeforeCess = Math.round(selectedTax / 1.04);
            const cess = selectedTax - taxBeforeCess;
            
            document.getElementById('incomeTax').textContent = 'â‚¹' + formatNumber(taxBeforeCess);
            document.getElementById('cess').textContent = 'â‚¹' + formatNumber(cess);
            document.getElementById('rebate').textContent = 'â‚¹0';
            document.getElementById('totalTax').textContent = 'â‚¹' + formatNumber(selectedTax);
            
            // Take home
            const takeHome = grossIncome - selectedTax;
            const monthlyTakeHome = takeHome / 12;
            
            document.getElementById('annualGross').textContent = 'â‚¹' + formatNumber(grossIncome);
            document.getElementById('taxDeduction').textContent = 'â‚¹' + formatNumber(selectedTax);
            document.getElementById('takeHome').textContent = 'â‚¹' + formatNumber(takeHome);
            document.getElementById('monthlyTakeHome').textContent = 'â‚¹' + formatNumber(Math.round(monthlyTakeHome));
            
            // Recommendation box
            let recommendation = '';
            if (newRegimeTax < oldRegimeTax) {
                const savings = oldRegimeTax - newRegimeTax;
                recommendation = `
                    <div class="alert-box" style="background: #d4edda; border-left-color: var(--success-green); color: #155724;">
                        <strong>ðŸ’¡ Recommendation:</strong> New Regime saves you â‚¹${formatNumber(savings)} annually! 
                        Consider switching if you don't have many deductions.
                    </div>
                `;
            } else if (oldRegimeTax < newRegimeTax) {
                const savings = newRegimeTax - oldRegimeTax;
                recommendation = `
                    <div class="alert-box" style="background: #d4edda; border-left-color: var(--success-green); color: #155724;">
                        <strong>ðŸ’¡ Recommendation:</strong> Old Regime saves you â‚¹${formatNumber(savings)} annually! 
                        Your deductions make old regime beneficial.
                    </div>
                `;
            }
            
            document.getElementById('recommendationBox').innerHTML = recommendation;
        }

        function resetForm() {
            document.getElementById('taxForm').reset();
            document.getElementById('basicSalary').value = '600000';
            document.getElementById('hra').value = '120000';
            document.getElementById('otherAllowances').value = '50000';
            document.getElementById('otherIncome').value = '0';
            document.getElementById('section80C').value = '150000';
            document.getElementById('section80D').value = '25000';
            document.getElementById('hraExempt').value = '0';
            document.getElementById('section80CCD').value = '50000';
            document.getElementById('homeLoanInterest').value = '0';
            document.getElementById('section80G').value = '0';
            
            calculateTax();
        }

        function formatNumber(num) {
            return new Intl.NumberFormat('en-IN', {
                maximumFractionDigits: 0
            }).format(num);
        }

        // Calculate on page load with default values
        window.addEventListener('load', function() {
            calculateTax();
        });

        // Auto-calculate on input change
        const inputs = document.querySelectorAll('#taxForm input');
        inputs.forEach(input => {
            input.addEventListener('input', function() {
                calculateTax();
            });
        });
    </script>
</body>
</html>
